<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>国网考试题库微信小程序 - 练习页面</title>
    <!-- 引入 Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 引入动效样式 -->
    <link rel="stylesheet" href="./animation.css">
    <link rel="stylesheet" href="./nav.css">
    <style>
        /* 微信小程序风格的自定义样式 */
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        .mp-icon {
            display: inline-block;
            width: 1.5rem;
            height: 1.5rem;
            background-repeat: no-repeat;
            background-size: 100% 100%;
        }
        .icon-home { background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" /></svg>'); }
        .icon-book { background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25" /></svg>'); }
        .icon-bookmark { background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z" /></svg>'); }
        .icon-user { background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z" /></svg>'); }
        .icon-back { background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18" /></svg>'); }
        .icon-star { background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z" /></svg>'); }
        .icon-star-filled { background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z" clip-rule="evenodd" /></svg>'); }
        .icon-tag { background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z" /><path stroke-linecap="round" stroke-linejoin="round" d="M6 6h.008v.008H6V6Z" /></svg>'); }
        .icon-flag { background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3 3v1.5M3 21v-6m0 0 2.77-.693a9 9 0 0 1 6.208.682l.108.054a9 9 0 0 0 6.086.71l3.114-.732a48.524 48.524 0 0 1-.005-10.499l-3.11.732a9 9 0 0 1-6.085-.711l-.108-.054a9 9 0 0 0-6.208-.682L3 4.5M3 15V4.5" /></svg>'); }
        .icon-note { background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125" /></svg>'); }
        .progress-bar {
            transition: width 0.3s ease;
        }
        
        /* 选项选中动画 */
        .option-selected {
            transform: scale(1);
            animation: option-pulse 0.3s ease-out;
        }
        
        @keyframes option-pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }
        
        /* 选项划过效果 */
        .option:hover {
            border-color: #dbeafe;
            background-color: #f8fafc;
        }
        
        /* 滑动切换题目 */
        .question-container {
            position: relative;
            min-height: 60vh;
            overflow: hidden;
        }
        
        .question-slide {
            position: absolute;
            width: 100%;
            opacity: 0;
            transform: translateX(100px);
            transition: opacity 0.5s ease, transform 0.5s ease;
        }
        
        .question-slide.active {
            opacity: 1;
            transform: translateX(0);
        }
        
        .question-slide.prev {
            opacity: 0;
            transform: translateX(-100px);
        }
        
        /* 星标和收藏动画 */
        .icon-action {
            transition: transform 0.2s ease, color 0.2s ease;
        }
        
        .icon-action:hover {
            transform: scale(1.2);
        }
        
        .icon-action:active {
            transform: scale(1);
        }
        
        .icon-active {
            color: #f59e0b;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen pb-16">
    <div class="max-w-md mx-auto bg-white min-h-screen">
        <!-- 顶部导航栏 -->
        <div class="flex items-center px-4 py-3 bg-blue-600 text-white">
            <a href="javascript:history.back()" class="icon-back mp-icon w-6 h-6 text-white"></a>
            <div class="font-bold text-lg mx-auto">配电技术基础</div>
            <div class="w-6"></div>
        </div>
        
        <!-- 进度条 -->
        <div class="w-full bg-gray-200 h-1.5">
            <div class="progress-bar bg-blue-600 h-1.5" style="width: 24%;"></div>
        </div>
        
        <!-- 题目信息 -->
        <div class="px-4 py-3 flex justify-between items-center border-b border-gray-200">
            <div class="flex items-center">
                <div class="bg-blue-100 text-blue-600 text-xs font-medium px-2 py-0.5 rounded">
                    单选题
                </div>
                <div class="ml-2 text-xs text-gray-500">
                    题目 24 / 100
                </div>
            </div>
            <div class="flex space-x-3">
                <div class="icon-star mp-icon w-5 h-5 text-gray-400"></div>
                <div class="icon-flag mp-icon w-5 h-5 text-gray-400"></div>
            </div>
        </div>
        
        <!-- 题目内容 -->
        <div class="px-4 py-4 fade-in">
            <div class="text-base font-medium text-gray-800 leading-relaxed">
                配电网络中，下列哪种设备用于保护线路免受过电流和短路的影响？
            </div>
            
            <!-- 知识点标签 -->
            <div class="mt-2 flex flex-wrap gap-2">
                <div class="px-2 py-0.5 bg-gray-100 rounded text-xs text-gray-600 flex items-center">
                    <div class="icon-tag mp-icon w-3 h-3 mr-1"></div>
                    配电网络
                </div>
                <div class="px-2 py-0.5 bg-gray-100 rounded text-xs text-gray-600 flex items-center">
                    <div class="icon-tag mp-icon w-3 h-3 mr-1"></div>
                    保护设备
                </div>
            </div>
        </div>
        
        <!-- 选项列表 -->
        <div class="px-4 py-2">
            <!-- 选项A -->
            <div class="mb-3 p-3 border border-gray-200 rounded-lg flex items-center option list-item-slide" data-option="A">
                <div class="w-7 h-7 flex-shrink-0 rounded-full border-2 border-gray-300 flex items-center justify-center text-sm font-medium text-gray-600">
                    A
                </div>
                <div class="ml-3 text-gray-700">
                    变压器
                </div>
            </div>
            
            <!-- 选项B -->
            <div class="mb-3 p-3 border-2 border-blue-500 rounded-lg flex items-center bg-blue-50 option option-selected list-item-slide" data-option="B">
                <div class="w-7 h-7 flex-shrink-0 rounded-full bg-blue-500 text-white flex items-center justify-center text-sm font-medium">
                    B
                </div>
                <div class="ml-3 text-gray-700 font-medium">
                    断路器
                </div>
            </div>
            
            <!-- 选项C -->
            <div class="mb-3 p-3 border border-gray-200 rounded-lg flex items-center option list-item-slide" data-option="C">
                <div class="w-7 h-7 flex-shrink-0 rounded-full border-2 border-gray-300 flex items-center justify-center text-sm font-medium text-gray-600">
                    C
                </div>
                <div class="ml-3 text-gray-700">
                    电压互感器
                </div>
            </div>
            
            <!-- 选项D -->
            <div class="mb-3 p-3 border border-gray-200 rounded-lg flex items-center option list-item-slide" data-option="D">
                <div class="w-7 h-7 flex-shrink-0 rounded-full border-2 border-gray-300 flex items-center justify-center text-sm font-medium text-gray-600">
                    D
                </div>
                <div class="ml-3 text-gray-700">
                    电容器
                </div>
            </div>
        </div>
        
        <!-- 解答部分 -->
        <div class="mt-4 px-4 fade-in">
            <div class="bg-blue-50 rounded-lg p-4 card-hover">
                <div class="font-medium text-blue-800 mb-2">答案解析</div>
                <div class="text-sm text-gray-700 leading-relaxed">
                    <p>正确答案：B. 断路器</p>
                    <p class="mt-2">断路器是一种自动开关设备，当电路中出现过电流、短路等故障时，断路器会自动分断电路，起到保护线路和设备的作用。</p>
                    <p class="mt-2">而变压器(A)是用于电压转换的设备；电压互感器(C)是测量电压的设备；电容器(D)主要用于电力系统的无功补偿和提高功率因数。</p>
                </div>
                
                <!-- 知识点拓展 -->
                <div class="mt-3 border-t border-blue-200 pt-3">
                    <div class="text-sm font-medium text-blue-800 mb-1">知识点拓展</div>
                    <div class="text-xs text-gray-700">
                        断路器按照使用场合可分为高压断路器和低压断路器，按灭弧介质可分为油断路器、真空断路器、SF6断路器等。它与熔断器的主要区别在于断路器可以重复使用。
                    </div>
                </div>
            </div>
            
            <!-- 笔记功能 -->
            <div class="mt-4 border border-gray-200 rounded-lg p-3 card-hover">
                <div class="flex items-center text-gray-700">
                    <div class="icon-note mp-icon w-5 h-5 text-gray-500 mr-2"></div>
                    <div class="text-sm font-medium">添加笔记</div>
                </div>
                <div class="mt-2">
                    <textarea class="w-full border border-gray-300 rounded p-2 text-sm" rows="2" placeholder="点击添加笔记，便于复习..."></textarea>
                </div>
                <div class="mt-2 flex justify-end">
                    <button class="bg-blue-600 text-white px-3 py-1 rounded text-sm btn-pulse">保存</button>
                </div>
            </div>
        </div>
        
        <!-- 底部导航 -->
        <div class="fixed bottom-0 left-0 right-0 max-w-md mx-auto bg-white shadow-lg border-t border-gray-200 p-4">
            <div class="flex justify-between items-center">
                <a href="#" onclick="history.back()" class="flex items-center justify-center h-11 px-4 bg-gray-100 rounded-full">
                    <div class="icon-back mp-icon w-5 h-5 text-gray-700"></div>
                    <div class="ml-1 text-gray-700">上一题</div>
                </a>
                
                <div class="flex space-x-3">
                    <button class="w-11 h-11 bg-gray-100 rounded-full flex items-center justify-center btn-pulse icon-action" id="favoriteBtn">
                        <div class="icon-star mp-icon w-6 h-6 text-gray-600"></div>
                    </button>
                    <button class="w-11 h-11 bg-gray-100 rounded-full flex items-center justify-center btn-pulse icon-action" id="bookmarkBtn">
                        <div class="icon-bookmark mp-icon w-6 h-6 text-gray-600"></div>
                    </button>
                </div>
                
                <a href="#" onclick="location.href='./WrongQuestionsPage.html'" class="flex items-center justify-center h-11 px-4 bg-blue-600 text-white rounded-full btn-pulse">
                    <div class="text-white">下一题</div>
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 ml-1">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" />
                    </svg>
                </a>
            </div>
        </div>
    </div>
</body>
<!-- 引入动效脚本 -->
<script src="./transition.js"></script>
<!-- 引入题库加载器 -->
<script src="./js/questionLoader.js"></script>
<script src="./js/exerciseLoader.js"></script>
<!-- 练习页面特殊交互 -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // 设置进度条动画
        const progressBar = document.querySelector('.progress-bar');
        setTimeout(() => {
            progressBar.style.width = '24%';
        }, 300);
        
        // 选项点击效果
        const options = document.querySelectorAll('.option');
        options.forEach(option => {
            option.addEventListener('click', function() {
                // 已经有答案了，不再响应点击
                if (document.querySelector('.option-selected')) {
                    return;
                }
                
                // 移除所有选中状态
                options.forEach(opt => {
                    opt.classList.remove('option-selected', 'border-2', 'border-blue-500', 'bg-blue-50');
                    opt.classList.add('border', 'border-gray-200');
                    
                    // 重置选项字母样式
                    const letter = opt.querySelector('div:first-child');
                    letter.classList.remove('bg-blue-500', 'text-white');
                    letter.classList.add('border-2', 'border-gray-300', 'text-gray-600');
                });
                
                // 设置当前选中状态
                this.classList.remove('border', 'border-gray-200');
                this.classList.add('option-selected', 'border-2', 'border-blue-500', 'bg-blue-50');
                
                // 修改选项字母样式
                const letter = this.querySelector('div:first-child');
                letter.classList.remove('border-2', 'border-gray-300', 'text-gray-600');
                letter.classList.add('bg-blue-500', 'text-white');
                
                // 选中后显示解析
                setTimeout(() => {
                    document.querySelector('.bg-blue-50.rounded-lg').classList.add('fade-in');
                    document.querySelector('.bg-blue-50.rounded-lg').style.display = 'block';
                    
                    // 滚动到解析区域
                    document.querySelector('.bg-blue-50.rounded-lg').scrollIntoView({
                        behavior: 'smooth', 
                        block: 'center'
                    });
                }, 500);
            });
        });
        
        // 收藏和标记功能
        const favoriteBtn = document.getElementById('favoriteBtn');
        const bookmarkBtn = document.getElementById('bookmarkBtn');
        
        favoriteBtn.addEventListener('click', function() {
            const iconEl = this.querySelector('.icon-star');
            
            if (iconEl.classList.contains('text-yellow-500')) {
                iconEl.classList.remove('text-yellow-500');
                iconEl.classList.add('text-gray-600');
                showToast('已取消收藏');
            } else {
                iconEl.classList.remove('text-gray-600');
                iconEl.classList.add('text-yellow-500');
                showToast('已收藏');
                
                // 添加动画效果
                iconEl.classList.add('activation-success');
                setTimeout(() => {
                    iconEl.classList.remove('activation-success');
                }, 500);
            }
        });
        
        bookmarkBtn.addEventListener('click', function() {
            const iconEl = this.querySelector('.icon-bookmark');
            
            if (iconEl.classList.contains('text-blue-600')) {
                iconEl.classList.remove('text-blue-600');
                iconEl.classList.add('text-gray-600');
                showToast('已从错题本移除');
            } else {
                iconEl.classList.remove('text-gray-600');
                iconEl.classList.add('text-blue-600');
                showToast('已加入错题本');
                
                // 添加动画效果
                iconEl.classList.add('activation-success');
                setTimeout(() => {
                    iconEl.classList.remove('activation-success');
                }, 500);
            }
        });
        
        // Toast提示
        function showToast(message) {
            const toast = document.createElement('div');
            toast.className = 'fixed top-16 left-1/2 transform -translate-x-1/2 px-4 py-2 rounded-full text-white text-sm bg-gray-800 z-50';
            toast.textContent = message;
            document.body.appendChild(toast);
            
            // 添加动画
            toast.style.opacity = '0';
            toast.style.transform = 'translate(-50%, -20px)';
            toast.style.transition = 'opacity 0.3s ease, transform 0.3s ease';
            
            setTimeout(() => {
                toast.style.opacity = '1';
                toast.style.transform = 'translate(-50%, 0)';
            }, 10);
            
            // 自动消失
            setTimeout(() => {
                toast.style.opacity = '0';
                toast.style.transform = 'translate(-50%, -20px)';
                setTimeout(() => {
                    document.body.removeChild(toast);
                }, 300);
            }, 2000);
        }
        
        // 笔记保存功能
        const saveNoteBtn = document.querySelector('.bg-blue-600.text-white.px-3.py-1.rounded.text-sm');
        if (saveNoteBtn) {
            saveNoteBtn.addEventListener('click', function() {
                const textarea = document.querySelector('textarea');
                if (textarea.value.trim() !== '') {
                    showToast('笔记已保存');
                    textarea.value = '';
                }
            });
        }
    });
</script>
</html> 